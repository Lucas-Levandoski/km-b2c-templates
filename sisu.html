<!DOCTYPE html>

<head>
  <title>LLS Test</title>
  <style>
    @font-face {
      font-family: Termina;
      src: url('https://knowledgeminersa.blob.core.windows.net/km-fonts/TerminaTest-Bold.otf');
      font-weight: bold;
      src: url('https://knowledgeminersa.blob.core.windows.net/km-fonts/TerminaTest-Medium.otf');
      font-weight: medium;
    }

    @font-face {
      font-family: Roboto;
      src: url('https://knowledgeminersa.blob.core.windows.net/km-fonts/Roboto-Regular.ttf');
      font-weight: normal;
    }


    body {
      margin: 0;
      overflow: hidden;
      font-family: Roboto, sans-serif;
      min-height: 100vh;
    }

    hr {
      margin-top: 2em;
      width: 100%;
      border: 1px solid #293045;
      border-left: 0;
      border-right: 0;
    }

    .container {
      display: grid;
      min-height: 100%;
      grid-template-columns: 45% 55%;
      grid-template-rows: auto;
      grid-template-areas: "image form";
    }

    img.home-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .image-container {
      grid-area: image;
    }

    /* everything related to #api is dynamic content from azure */
    #api {
      grid-area: form;
      display: flex;
      flex-direction: column;
      text-align: left;
      margin: auto;
      min-width: 35%;
    }

    #api .heading h1 {
      margin-top: 0;
      margin-bottom: 11px;
      font-family: Termina, sans-serif;
      font-weight: bold;
    }

    #api .intro h2 {
      margin-top: 0;
      font-size: 18px;
      font-weight: normal;
    }

    #api ul {
      list-style: none;
      padding-left: 0;
    }

    #api li {
      display: flex;
    }

    #api #emailVerificationControl {
      display: flex;
      flex-direction: column;
      width: 100%;
    }

    /*Sign in Inputs*/

    #api .entry-item {
      display: flex;
    }

    #api .entry-item label {
      display: none;
    }

    #api .entry-item a {
      display: none;
    }

    #api #email {
      margin-top: 2em;
      width: 100%;
      border-radius: 0;
      border: solid 1px #c4c4c4;
      padding: 18px 26px 18px 26px;
      color: #333333;
    }

    #api #email::placeholder {
      color: #333333;
      opacity: 0.75;
    }

    #api #password {
      margin-top: 1em;
      width: 100%;
      border-radius: 0;
      border: solid 1px #c4c4c4;
      padding: 18px 26px 18px 26px;
      color: #333333;
    }

    #api #password::placeholder {
      color: #333333;
      opacity: 0.75;
    }

    /* Signup Inputs */

    #api .attrEntry {
      display: flex;
      width: 100%;
    }

    #api .attrEntry label {
      display: none;
    }

    #api .attrEntry a {
      display: none;
    }

    #api .attrEntry input {
      margin-top: 2em;
      width: 100%;
      border-radius: 0;
      border: solid 1px #c4c4c4;
      padding: 18px 26px 18px 26px;
      color: #333333;
    }

    #api .attrEntry::placeholder {
      color: #333333;
      opacity: 0.75;
    }

    /* Buttons */

    #api .buttons button {
      background-color: #293045;
      border: none;
      color: white;
      width: 100%;
      padding: 18px 26px 18px 26px;
      margin-top: 1em;
      font-size: 18px;
      font-family: Termina, sans-serif;
      font-weight: Medium;
      cursor: pointer;
    }

    /* Buttons */
    #api .buttons {
      display: flex;
    }

    /* Signin Buttons */

    #api .divider {
      margin: 1em 0;
    }

    #api .create {
      font-size: 1.2em;
      font-weight: 400;
    }

    /* Signup Buttons */

    #api .buttons #cancel {
      background-color: white;
      border: 2px solid #293045;
      color: #293045;
      width: 100%;
    }

    #api #emailVerificationControl_but_send_code {
      background-color: white;
      color: #293045;
      border: solid 2px #293045;
    }
  </style>

  <script>
    const observer = new MutationObserver(() => {
      const apiElement = document.getElementById('api');
      if (apiElement) {
        init(apiElement);
        observer.disconnect();
      }
    });

    observer.observe(document, { attributes: false, childList: true, characterData: false, subtree: true });

    function init(apiElement) {
      const hr = document.createElement('hr');

      const header = document.querySelector(".heading")?.querySelector("h1");
      if (header) header.textContent = "HEY THERE!";

      const intro = document.querySelector(".intro")?.querySelector("h2");
      if (intro) intro.textContent = "Sign In to Get Started";

      const divider = document.querySelector(".divider");

      if (divider) {
        const dividerH2 = divider.querySelector('h2')

        if (dividerH2) divider.removeChild(dividerH2);

        divider.appendChild(hr);
      }

      const createAccountAnchor = document.querySelector('.create')?.querySelector('#createAccount');
      const createAccountParagraph = document.querySelector('.create')?.querySelector('p');


      if (createAccountAnchor && createAccountParagraph) {
        createAccountAnchor.textContent = 'Register';

        createAccountParagraph.textContent = 'Donâ€™t have an account yet? ';
        createAccountParagraph.appendChild(createAccountAnchor);
      }

      const verificationContent = document.querySelector('.verificationControlContent');

      // if (verificationContent) verificationContent.appendChild(hr);

    }
  </script>
</head>

<body>
  <div class="container">
    <div class="image-container">
      <img class="home-image"
        src="https://knowledgeminersa.blob.core.windows.net/km-static-images/elasta-home-screen.svg"
        alt="elastacloud home">
    </div>

    <!-- this div is dynamically populated by Azure AD B2C system -->
    <div id="api"></div>

    <!-- <div id="api" data-name="Unified">
      <div class="heading">
        <h1 role="heading">Sign in</h1>
      </div>
      <form id="localAccountForm" class="localAccount" aria-label="Sign in with your email address">
        <div class="intro">
          <h2>
            Sign in with your email address
          </h2>
        </div>
        <div class="error pageLevel" aria-hidden="true" role="alert" style="display: none;">
          <p></p>
        </div>
        <div class="entry">
          <div class="entry-item">
            <label for="email">
              Email Address
            </label>
            <div class="error itemLevel" aria-hidden="true" role="alert" style="display: none;">
              <p></p>
            </div>
            <input type="email" id="email" name="Email Address" title="Please enter a valid email address"
              pattern="^[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+(?:\.[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$"
              autofocus="" placeholder="Email Address" aria-label="Email Address">
          </div>
          <div class="entry-item">
            <div class="password-label">
              <label for="password">Password</label>
              <a id="forgotPassword"
                href="/knowledgeminer.onmicrosoft.com/B2C_1_SIGNIN_SIGNUP/api/CombinedSigninAndSignup/forgotPassword?csrf_token=cGc4QUFTaTFBb3AxaUMxeEIzdjJ3ZXp4dHpvQ25RaTllYUM3SUNKUnA3WkM2cHM0VksybDVsRUtHRzlQUUlZeHlZampOSEdTRmJ1b0VnVXdhWEgyd1E9PTsyMDIzLTA5LTI3VDE4OjQzOjIxLjY0NDExNDlaO0NqWWdVREZaYkZSOU4ydW0rZ3U3OWc9PTt7Ik9yY2hlc3RyYXRpb25TdGVwIjoxfQ==&amp;tx=StateProperties=eyJUSUQiOiIwZjM5ZGFkMS00NmNkLTQzMDctYWNhMi0yZDMwYTMzNWU4OGUifQ&amp;p=B2C_1_SIGNIN_SIGNUP">Forgot
                your password?</a>
            </div>
            <div class="error itemLevel" aria-hidden="true" style="display: none;">
              <p role="alert"></p>
            </div>
            <input type="password" id="password" name="Password" placeholder="Password" aria-label="Password"
              autocomplete="current-password" aria-required="true">
          </div>

          <div class="working"></div>


          <div class="buttons">
            <button id="next" type="submit" form="localAccountForm">Sign in</button>
          </div>
        </div>
        <div class="divider">
          <h2>OR</h2>
        </div>
        <div class="create">
          <p>
            Don't have an account?<a id="createAccount"
              href="/knowledgeminer.onmicrosoft.com/B2C_1_SIGNIN_SIGNUP/api/CombinedSigninAndSignup/unified?local=signup&amp;csrf_token=cGc4QUFTaTFBb3AxaUMxeEIzdjJ3ZXp4dHpvQ25RaTllYUM3SUNKUnA3WkM2cHM0VksybDVsRUtHRzlQUUlZeHlZampOSEdTRmJ1b0VnVXdhWEgyd1E9PTsyMDIzLTA5LTI3VDE4OjQzOjIxLjY0NDExNDlaO0NqWWdVREZaYkZSOU4ydW0rZ3U3OWc9PTt7Ik9yY2hlc3RyYXRpb25TdGVwIjoxfQ==&amp;tx=StateProperties=eyJUSUQiOiIwZjM5ZGFkMS00NmNkLTQzMDctYWNhMi0yZDMwYTMzNWU4OGUifQ&amp;p=B2C_1_SIGNIN_SIGNUP">Sign
              up now</a>
          </p>
        </div>
      </form>
    </div> -->

    <!-- <div id="api" data-name="Unified">
      <div class="heading">
        <h1 role="heading">HEY THERE!</h1>
      </div>
      <div class="buttons">
      </div>
      <div class="intro">
        <p>Please provide the following details.</p>
      </div>
      <form id="attributeVerification">
        <div id="requiredFieldMissing" class="error pageLevel" style="display: none;" aria-hidden="true">A required
          field is missing. Please fill out all required fields and try again.</div>
        <div id="fieldIncorrect" class="error pageLevel" style="display: none;" aria-hidden="true">One or more fields
          are filled out incorrectly. Please check your entries and try again.</div>
        <div id="captchaUnresolved" class="error pageLevel" style="display: none;" aria-hidden="true">Captcha challenge
          is not resolved. Please solve it to proceed.</div>
        <div id="claimVerificationServerError" class="error pageLevel" style="display: none;" aria-hidden="true"></div>
        <div id="attributeList" class="attr">
          <ul>
            <li class="VerificationControl emailVerificationControl_li">
              <div class="attrEntry"><label id="emailVerificationControl_label" for="emailVerificationControl"
                  class=""></label>
                <div class="error itemLevel" role="alert"></div>
                <div class="verificationControlContent" id="emailVerificationControl">
                  <div class="verificationInfoText">
                    <div id="emailVerificationControl_info_message" aria-hidden="true" role="alert"
                      aria-label="Verification is necessary. Please click Send button." style="display: none;">
                      Verification is necessary. Please click Send button.</div>
                  </div>
                  <div class="verificationSuccessText">
                    <div id="emailVerificationControl_success_message" aria-hidden="true" role="alert" aria-label=""
                      style="display: none;"></div>
                  </div>
                  <div class="verificationErrorText error">
                    <div id="emailVerificationControl_error_message" aria-hidden="true" role="alert" aria-label=""
                      style="display: none;"></div>
                  </div>
                  <ul>
                    <li class="EmailBox email_li email" aria-hidden="false" style="display: inline;">
                      <div class="attrEntry"><label id="email_label" for="email" class="required">Email Address</label>
                        <div class="error itemLevel" role="alert"></div><input id="email" class="textInput" type="email"
                          placeholder="Email Address"
                          pattern="^[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+(?:\.[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$"
                          title="Email address that can be used to contact you." aria-required="true"
                          autofocus="autofocus"><a class="helpLink tiny" href="javascript:void(0)"
                          data-help="Email address that can be used to contact you.">What is this?</a>
                      </div>
                    </li>
                    <li class="TextBox emailVerificationCode_li VerificationCode" aria-hidden="true"
                      style="display: none;">
                      <div class="attrEntry"><label id="emailVerificationCode_label" for="emailVerificationCode"
                          class="required">Verification Code</label>
                        <div class="error itemLevel" role="alert"></div><input id="emailVerificationCode"
                          class="textInput" type="text" placeholder="Verification Code"
                          title="Enter your verification code" aria-required="true" autocomplete="off" disabled=""><a
                          class="helpLink tiny" href="javascript:void(0)" data-help="Enter your verification code">What
                          is this?</a>
                      </div>
                    </li>
                  </ul>
                  <div class="working" style="display: none;" aria-hidden="true"></div>
                  <div class="buttons"><button class="sendCode" id="emailVerificationControl_but_send_code"
                      type="button" aria-label="Send verification code" aria-hidden="false"
                      style="display: inline;">Send verification code</button><button class="verifyCode"
                      id="emailVerificationControl_but_verify_code" type="button" aria-label="Verify code"
                      aria-hidden="true" style="display: none;">Verify code</button><button class="sendNewCode"
                      id="emailVerificationControl_but_send_new_code" type="button" aria-label="Send new code"
                      aria-hidden="true" style="display: none;">Send new code</button><button class="changeClaims"
                      id="emailVerificationControl_but_change_claims" type="button" aria-label="Change e-mail"
                      aria-hidden="true" style="display: none;">Change e-mail</button></div>
                  <hr>
                </div><a class="helpLink tiny" href="javascript:void(0)">What is this?</a>
              </div>
            </li>
            <li class="Password newPassword_li">
              <div class="attrEntry"><label id="newPassword_label" for="newPassword" class="required">New
                  Password</label>
                <div class="error itemLevel" role="alert"></div><input id="newPassword" class="textInput"
                  type="password" placeholder="New Password" title="Enter new password" autocomplete="new-password"
                  aria-required="true" aria-disabled="true" disabled="disabled" tabindex="-1"><a class="helpLink tiny"
                  href="javascript:void(0)" data-help="Enter new password">What is this?</a>
              </div>
            </li>
            <li class="Password reenterPassword_li">
              <div class="attrEntry"><label id="reenterPassword_label" for="reenterPassword" class="required">Confirm
                  New Password</label>
                <div class="error itemLevel" role="alert"></div><input id="reenterPassword" class="textInput"
                  type="password" placeholder="Confirm New Password" title="Confirm new password"
                  autocomplete="new-password" aria-required="true" aria-disabled="true" disabled="disabled"
                  tabindex="-1"><a class="helpLink tiny" href="javascript:void(0)" data-help="Confirm new password">What
                  is this?</a>
              </div>
            </li>
            <li class="TextBox givenName_li">
              <div class="attrEntry"><label id="givenName_label" for="givenName" class="">Given Name</label>
                <div class="error itemLevel" role="alert"></div><input id="givenName" class="textInput" type="text"
                  placeholder="Given Name" title="Your given name (also known as first name)." aria-disabled="true"
                  disabled="disabled" tabindex="-1"><a class="helpLink tiny" href="javascript:void(0)"
                  data-help="Your given name (also known as first name).">What is this?</a>
              </div>
            </li>
            <li class="TextBox surname_li">
              <div class="attrEntry"><label id="surname_label" for="surname" class="">Surname</label>
                <div class="error itemLevel" role="alert"></div><input id="surname" class="textInput" type="text"
                  placeholder="Surname" title="Your surname (also known as family name or last name)."
                  aria-disabled="true" disabled="disabled" tabindex="-1"><a class="helpLink tiny"
                  href="javascript:void(0)" data-help="Your surname (also known as family name or last name).">What is
                  this?</a>
              </div>
            </li>
          </ul>
        </div>
        <div class="buttons">
          <button id="continue" type="submit" form="attributeVerification" aria-disabled="true" aria-label="Create"
            tabindex="-1">Create</button><button id="cancel" aria-label="Cancel" formnovalidate="">Cancel</button>
        </div>

        <div class="verifying-modal" aria-live="assertive" aria-labelledby="verifying_blurb">
          <div id="verifying_blurb"></div>
        </div>
      </form>

    </div> -->

  </div>
</body>